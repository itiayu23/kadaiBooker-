<div class="container px-5 px-sm-0">

           <% if @book.errors.any? %>
            <div id="error_explanation">
              <h3>
            <%= @book.errors.count %>errors prohibited this obj from being saved:
            </h3>
            <ul>
              <%@book.errors.full_messages.each do |message| %>
              <li><%= message %></li>
              <% end %>
            </ul>
            </div>
            <% end %>


    <div class="row">
  <%= render 'list', book: @book, user: @user %>

    <div class="col-md-8 offset-md-1">
      <h1>Books</h1>
      <table class="table table-hover table-inverse">
      <thead>
      <tr>
        <th> </th>
        <th>Title</th>
        <th>Opinion</th>
        <th colspan="3"></th>
        <th colspan="3"></th>

      </tr>
      </thead>


      <% @books.each do |book| %>
      <tbody>
        <tr>
        <td><%= link_to user_path(book.user.id) do %>
        <%= image_tag book.user.get_profile_image(100,100) %>
        <% end %>
        </td>
        <td><%= link_to book_path(book.id) do %>
        <%= book.title %></td>
        <% end %>
        <td><%= book.body %></td>


        <td>
         <% if book.favorited_by?(current_user) %>
          <p>
          <%= link_to book_favorites_path(book), method: :delete do %>
          ♥<%= book.favorites.count %>
          <% end %>
          </p>
          <% else %>
          <p>
            <%= link_to book_favorites_path(book), method: :post do %>
          ♡<%= book.favorites.count %>
          <% end %>
          </p>
         <% end %>
        </td>


        <td><%= link_to "コメント数: #{book.book_comments.count} ", book_path(book.id) %></td>

        </tr>

      </tbody>
      <% end %>
      </table>
   </div>
  </div>
</div>
